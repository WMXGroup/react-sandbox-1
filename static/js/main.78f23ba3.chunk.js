(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(9),l=n.n(r),i=n(17),s=n(18),c=n(22),u=n(19),d=n(24),h=n(153),p=n(155),m=n(147),f=n(68),g=n.n(f),v=n(69),b=n.n(v),E=n(66),O=n.n(E),y=n(67),S=n.n(y),w=n(64),C=n.n(w),x=n(65),N=n.n(x),k=n(70),j=n.n(k),D=n(142),I=n(5),L=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={showOptions:!1},n.toggleOptions=function(e){e&&e(),n.setState({showOptions:!n.state.showOptions})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){!0===this.props.isMaxNew&&this.props.myRef.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.selected,r=t.label,l=t.onChange,i=t.handleTextChange,s=t.handleAddSub,c=t.handleDelete,u=t.handleReturn,d=t.nodeCount,f=t.myRef,v=t.handleMoveIn,E=t.handleMoveOut,y=t.handleMoveUp,w=t.handleMoveDown,x=t.index,k=t.depth,I=t.count;return o.a.createElement("div",{className:n.nodeContainer},o.a.createElement(D.a,{badgeContent:d,color:"primary",anchorOrigin:{vertical:"top",horizontal:"left"}},o.a.createElement(p.a,{checked:a,className:n.checkbox,onChange:l,color:"primary",size:"small"})),o.a.createElement(h.a,{className:n.nodeText,InputProps:{disableUnderline:!0,style:{padding:0}},value:r,onChange:i,onKeyPress:u,inputRef:f,multiline:!0}),!0===this.state.showOptions&&o.a.createElement("div",{className:n.options},x>0&&o.a.createElement(m.a,{onClick:y,size:"small"},o.a.createElement(C.a,{className:n.moveButtons})),x<I&&o.a.createElement(m.a,{onClick:w,size:"small"},o.a.createElement(N.a,{className:n.moveButtons})),k>0&&o.a.createElement(m.a,{onClick:v,size:"small"},o.a.createElement(O.a,{className:n.moveButtons})),0!==x&&o.a.createElement(m.a,{onClick:E,size:"small"},o.a.createElement(S.a,{className:n.moveButtons})),o.a.createElement(m.a,{onClick:function(){return e.toggleOptions(s)},size:"small"},o.a.createElement(g.a,{className:n.addButton})),o.a.createElement(m.a,{onClick:c,size:"small"},o.a.createElement(b.a,{className:n.deleteButton}))),o.a.createElement(m.a,{onClick:function(){return e.toggleOptions()},size:"small"},o.a.createElement(j.a,{className:n.moveButtons})))}}]),t}(o.a.Component),M=Object(I.a)(function(e){return{optionList:{margin:0},nodeContainer:{borderLeft:"1px dashed #ccc",display:"flex"},checkbox:{height:0,width:"5px"},nodeText:{width:"700px",borderBottom:"1px dashed #ccc"},options:{border:"1px dashed #ccc",display:"flex",height:"21px"},addButton:{fontSize:"17px",color:"green"},deleteButton:{fontSize:"17px",color:"red"},moveButtons:{fontSize:"17px",color:"gray"},nodeCount:{justifyContent:"center",alignItems:"center"}}})(L),B=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isLastNew:!1},n.textInput=[],n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,n=this.props,a=n.options,r=n.textChange;this.textInput=[];for(var l=0;l<a.length;l++)this.textInput.push(o.a.createRef());var i=function(e,t){for(var n=0;n<a.length;n++)a[n].id===e&&(a[n].subOptions=t);r(a)},s=function(){return Math.random().toString(36).substring(2)+Date.now().toString(36)},c=function(e){var t={name:"",id:s(),subOptions:[],selected:!1,depth:a[e].depth};a.splice(e+1,0,t),r(a)},u=function(e){for(var t=0;t<a.length;t++)a[t].id===e&&a.splice(t,1);r(a)},d=function(e){for(var t=0,n=0;n<a.length;n++)a[n].id===e&&(t=a[n].subOptions.length);return t};return o.a.createElement(o.a.Fragment,null,a.map(function(n,l){return o.a.createElement("ul",{key:[n.id,l].concat(),style:{margin:0,paddingLeft:0===n.depth?0:"20px",borderLeft:0===n.depth?"none":"1px dashed #ccc"}},o.a.createElement(M,{selected:n.selected,label:n.name,depth:n.depth,onChange:function(){return function(e){for(var t=0;t<a.length;t++)a[t].id===e&&(a[t].selected=!a[t].selected);r(a)}(n.id)},handleTextChange:function(e){return function(e,t){for(var n=0;n<a.length;n++)a[n].id===t&&(a[n].name=e);r(a)}(e.target.value,n.id)},handleAdd:function(){return c(l)},handleAddSub:function(){return function(e){for(var t={name:"",id:s(),subOptions:[],selected:!1},n=0;n<a.length;n++)a[n].id===e&&(t.depth=a[n].depth+1,a[n].subOptions.push(t),a[n].selected=!0);r(a)}(n.id)},handleDelete:function(){window.confirm('Are you sure you want to delete "'.concat(n.name,'"?'))&&u(n.id)},handleReturn:function(t){return function(t,n){"Enter"===t.key&&(t.preventDefault(),c(n),void 0!==e.textInput[n+1]?(e.setState({isLastNew:!1}),e.textInput[n+1].current.focus()):e.setState({isLastNew:!0}))}(t,l)},myRef:e.textInput[l],isMaxNew:e.state.isLastNew,nodeCount:d(n.id),count:a.length-1,handleMoveIn:function(){e.props.handleMoveIn(n,l),u(n.id)},handleMoveOut:function(){!function(e,t){for(var n={name:e.name,id:e.id,subOptions:e.subOptions,selected:e.selected,depth:e.depth+1},o=0;o<a.length;o++)o===t-1&&(a[o].subOptions.push(n),a[o].selected=!0);r(a)}(n,l),u(n.id)},index:l,handleMoveUp:function(){return function(e){var t=[a[e-1],a[e]];a[e]=t[0],a[e-1]=t[1],r(a)}(l)},handleMoveDown:function(){return function(e){var t=[a[e+1],a[e]];a[e]=t[0],a[e+1]=t[1],r(a)}(l)}}),n.subOptions.length>0&&!0===n.selected&&o.a.createElement(t,{options:n.subOptions,textChange:function(e){return i(n.id,e)},handleMoveIn:function(e,t){return function(e,t){var n={name:e.name,id:e.id,subOptions:e.subOptions,selected:e.selected,depth:e.depth-1};a.splice(t+1,0,n),r(a)}(e,t)}}))}))}}]),t}(o.a.Component),z=n(149),T=n(150),A=n(107),R=n(156),F=n(71),J=n.n(F),U=n(72),P=n.n(U),q=n(73),H=n.n(q),W=n(151),_=n(35),G=n.n(_),K={treeContainer:{maxWidth:"700px"}},Q=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={listName:"List Name",options:[],selectedFile:null,isLoading:!1,anchorEl:null,setAnchorEl:!1,lastSaved:null},n.componentDidMount=function(){n.getServerData()},n.getServerData=function(){var e=window.location.search,t=new URLSearchParams(e).get("query");void 0!==t&&null!==t?n.setState({isLoading:!0},function(){G.a.get("https://guarded-mesa-76047.herokuapp.com/api/lists/".concat(t)).then(function(e){return n.setState({listName:e.data.listName,options:e.data.list,lastSaved:e.data.lastSaved,isLoading:!1})})}):n.createBaseNode()},n.saveData=function(){n.handleClose();var e=window.location.search,t=new URLSearchParams(e).get("query"),a=new Date;null===t?G.a.post("https://guarded-mesa-76047.herokuapp.com/api/lists/new",{list:n.state.options,listName:n.state.listName,lastSaved:new Date}).then(function(e){return alert("New list created!"),e}).then(function(e){var t=e.data._id,n=document.createElement("a");n.href="https://wmxgroup.github.io/react-sandbox-1/?query=".concat(t),n.click()}):G.a.post("https://guarded-mesa-76047.herokuapp.com/api/lists/update/".concat(t),{list:n.state.options,listName:n.state.listName,lastSaved:a}).then(function(){n.setState({lastSaved:a}),alert("Data saved successfully!")})},n.getLSData=function(){var e=localStorage.getItem("myTreeData");return null!==e&&e!==[]||localStorage.setItem("myTreeData",JSON.stringify([{name:"Start Here",id:1,selected:!1,subOptions:[],depth:0}])),JSON.parse(localStorage.getItem("myTreeData"))},n.downloadFile=function(e,t,n){var a=document.createElement("a"),o=new Blob([e],{type:n});a.href=URL.createObjectURL(o),a.download=t,a.click()},n.writeToLS=function(e){localStorage.setItem("myTreeData",JSON.stringify(e))},n.exportJSON=function(){n.handleClose(),n.downloadFile(JSON.stringify(n.state.options),"data.json","text/plain")},n.getFile=function(e){n.handleClose();var t=e.target.files,a=new FileReader;a.readAsText(t[0]),a.onload=function(e){localStorage.setItem("myTreeData",e.target.result),n.setState({options:JSON.parse(e.target.result)})}},n.createNew=function(){n.handleClose();G.a.post("https://guarded-mesa-76047.herokuapp.com/api/lists/new",{list:[{name:"Start Here",id:1,selected:!1,subOptions:[],depth:0}],listName:n.state.listName,lastSaved:new Date}).then(function(e){return alert("New list created!"),e}).then(function(e){var t=e.data._id,n=document.createElement("a");n.href="https://wmxgroup.github.io/react-sandbox-1/?query=".concat(t),n.click()})},n.createBaseNode=function(){n.handleClose();n.setState({options:[{name:"Start Here",id:1,selected:!1,subOptions:[],depth:0}]})},n.handleMenu=function(e){n.setState({anchorEl:e.currentTarget,setAnchorEl:!0})},n.handleClose=function(){n.setState({setAnchorEl:!1})},n.handleTitleChange=function(e){n.setState({listName:e.target.value})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(z.a,{position:"fixed",color:"primary"},o.a.createElement(T.a,null,o.a.createElement(m.a,{edge:"start",color:"inherit",onClick:this.handleMenu},o.a.createElement(J.a,null)),o.a.createElement(A.a,{id:"menu-appbar",anchorEl:this.state.anchorEl,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"center"},open:this.state.setAnchorEl,onClose:this.handleClose},o.a.createElement("input",{type:"file",style:{display:"none"},id:"raised-button-file",name:"file",onChange:this.getFile,accept:".json"}),o.a.createElement("label",{htmlFor:"raised-button-file"},o.a.createElement(R.a,{onClick:function(){return e.getFile()}},"Import JSON")),o.a.createElement(R.a,{onClick:function(){return e.exportJSON()}},"Export Data"),o.a.createElement(R.a,{onClick:function(){return e.saveData()}},"Save Data"),o.a.createElement(R.a,{onClick:function(){return e.createNew()}},"Create New")),o.a.createElement(W.a,{variant:"h6"},"Outliner"),o.a.createElement("div",{style:{flexGrow:1}}),o.a.createElement(m.a,{color:"inherit"},o.a.createElement(P.a,null)),o.a.createElement(m.a,{edge:"end",color:"inherit"},o.a.createElement(H.a,null)))),o.a.createElement(T.a,null),o.a.createElement("div",{style:{fontStyle:"italic",color:"#bbb"}},null===this.state.lastSaved?"Not Saved":"Last Saved: "+this.state.lastSaved),o.a.createElement(h.a,{InputProps:{disableUnderline:!0,style:{display:"block",fontSize:"2em",marginTop:"0.3em",marginBottom:"0.3em"}},value:this.state.listName,onChange:this.handleTitleChange}),o.a.createElement("div",{style:K.treeContainer},o.a.createElement(B,{options:this.state.options,textChange:function(t){return e.setState({options:t})}})))}}]),t}(o.a.Component),V=n(152),X=n(108),Y=n(88),Z=Object(X.a)({palette:{primary:Y.a},typography:{},overrides:{MuiBadge:{badge:{height:13,minWidth:13,padding:0},colorPrimary:{backgroundColor:"Navy"}}}}),$=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={count:0},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(V.a,{theme:Z},o.a.createElement(Q,null))}}]),t}(a.Component);l.a.render(o.a.createElement($,null),document.getElementById("root"))},80:function(e,t,n){e.exports=n(109)}},[[80,2,1]]]);
//# sourceMappingURL=main.78f23ba3.chunk.js.map